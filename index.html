<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø­Ø¯ÛŒØ« â¤ï¸</title>
  <meta name="theme-color" content="#ff4d6d" />
  <style>
    :root{
      --bg1:#0b1020; --bg2:#2a0b2a;
      --card:rgba(255,255,255,.08);
      --stroke:rgba(255,255,255,.14);
      --txt:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.72);
      --accent:#ff4d6d;
      --accent2:#ffb3c1;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Vazirmatn", "IRANSans", sans-serif;
      color:var(--txt);
      background: radial-gradient(1200px 900px at 20% 10%, rgba(255,77,109,.25), transparent 60%),
                  radial-gradient(900px 800px at 90% 30%, rgba(255,179,193,.18), transparent 55%),
                  linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }
    .wrap{max-width:720px;margin:0 auto;padding:24px 16px 64px}
    .header{
      display:flex; gap:14px; align-items:center; justify-content:space-between;
      padding:18px 18px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      position:sticky; top:12px; z-index:5;
      backdrop-filter: blur(10px);
    }
    .brand{display:flex;flex-direction:column;gap:2px}
    .brand b{font-size:16px; letter-spacing:.2px}
    .brand span{font-size:12px; color:var(--muted)}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(0,0,0,.15);
      font-size:12px; color:var(--muted);
      white-space:nowrap;
    }
    .card{
      margin-top:18px;
      border:1px solid var(--stroke);
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .hero{
      padding:26px 18px 18px;
      background: radial-gradient(700px 400px at 40% 0%, rgba(255,77,109,.20), transparent 55%),
                  linear-gradient(180deg, rgba(255,255,255,.06), transparent);
    }
    .title{font-size:22px;line-height:1.5;margin:0 0 10px}
    .type{
      font-size:15px; line-height:1.95;
      color:var(--muted);
      min-height:92px;
      margin:0;
      white-space:pre-wrap;
    }
    .actions{display:flex; gap:10px; flex-wrap:wrap; padding:16px 18px 20px}
    button{
      appearance:none;border:none;cursor:pointer;
      padding:12px 14px;border-radius:14px;font-weight:800;
      color:#111;background:linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 10px 25px rgba(255,77,109,.25);
      flex:1;min-width:160px;
    }
    button.secondary{
      background:rgba(255,255,255,.08);
      color:var(--txt);
      border:1px solid var(--stroke);
      box-shadow:none;
      font-weight:650;
    }
    .grid{display:grid;grid-template-columns: 1fr 1fr;gap:12px;padding: 0 18px 18px}
    .stat{
      padding:14px 14px;border:1px solid var(--stroke);
      border-radius:16px;background:rgba(0,0,0,.12);
    }
    .stat .k{font-size:12px;color:var(--muted)}
    .stat .v{font-size:18px;margin-top:6px;font-weight:900}
    .note{padding: 0 18px 18px;color:var(--muted);font-size:12px;line-height:1.9}

    .modal{
      position:fixed; inset:0;
      display:none; align-items:center; justify-content:center;
      background: rgba(0,0,0,.55);
      z-index:50;
      padding:18px;
    }
    .modal.show{display:flex}
    .modal-box{
      width:min(640px, 100%);
      border-radius:24px;
      border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(0,0,0,.25));
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal-head{
      padding:16px 18px;
      display:flex; justify-content:space-between; align-items:center;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .modal-head b{font-size:14px}
    .x{
      width:38px;height:38px;border-radius:12px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.06);
      color:var(--txt); font-size:18px;
    }
    .modal-body{padding:18px}
    .love{font-size:16px; line-height:2.05; white-space:pre-wrap; color:rgba(255,255,255,.90)}

    /* Floating hearts */
    .heart{
      position:fixed;
      font-size:18px;
      filter: drop-shadow(0 8px 10px rgba(0,0,0,.35));
      animation: floatUp linear forwards;
      z-index:2; pointer-events:none; opacity:.9;
    }
    .heart.up{
      bottom:-40px;
      top:auto;
      animation-name: floatUp;
    }
    .heart.down{
      top:-40px;
      bottom:auto;
      animation-name: floatDown;
    }
    @keyframes floatUp{
      from{ transform: translateY(0) translateX(0) scale(1); opacity:.0; }
      10%{opacity:.9}
      to{ transform: translateY(-110vh) translateX(var(--drift)) scale(1.35); opacity:0; }
    }
    @keyframes floatDown{
      from{ transform: translateY(0) translateX(0) scale(1); opacity:.0; }
      10%{opacity:.9}
      to{ transform: translateY(110vh) translateX(var(--drift)) scale(1.25); opacity:0; }
    }

    @media (max-width: 520px){
      .grid{grid-template-columns:1fr}
      .title{font-size:20px}
      button{min-width:140px}
    }
  </style>
</head>
<body>

<div class="wrap">
  <div class="header">
    <div class="brand">
      <b>ÙˆÙ„Ù†ØªØ§ÛŒÙ† Ù…Ø§ â¤ï¸</b>
      <span>Ø¨Ø±Ø§ÛŒ Ø­Ø¯ÛŒØ« â€” Ø§Ø² Ø·Ø±Ù Ù…Ù‡Ø¯ÛŒ</span>
    </div>
    <div class="pill"><span>ğŸ’˜</span><span id="today"></span></div>
  </div>

  <div class="card">
    <div class="hero">
      <h1 class="title">Ø³Ù„Ø§Ù… Ø­Ø¯ÛŒØ«Ù Ù‚Ø´Ù†Ú¯Ù… ğŸŒ™</h1>
      <p class="type" id="typeArea"></p>
    </div>

    <div class="actions">
      <button id="btnReveal">Ø¨Ø§Ø²Ø´ Ú©Ù†</button>
      <button class="secondary" id="btnHearts">Ù‚Ù„Ø¨ Ø¨Ø§Ø±ÙˆÙ† â¤ï¸</button>
    </div>

    <div class="grid">
      <div class="stat">
        <div class="k">ØªØ§ ÙˆÙ„Ù†ØªØ§ÛŒÙ† Ù…ÙˆÙ†Ø¯Ù‡</div>
        <div class="v" id="countdown">â€¦</div>
      </div>
      <div class="stat">
        <div class="k">Ù‚ÙˆÙ„ Ù…Ù† Ø¨Ù‡ ØªÙˆ</div>
        <div class="v" id="status">Ù‡Ø± Ø±ÙˆØ² Ø¨ÛŒØ´ØªØ± Ø¯ÙˆØ³ØªØª Ø¯Ø§Ø±Ù…</div>
      </div>
    </div>

    <div class="note">
      Ù†Ú©ØªÙ‡: Ø§Ú¯Ù‡ Ø¢Ù‡Ù†Ú¯ Ø±Ùˆ Ø±ÙˆØ´Ù† Ú©Ù†ÛŒ Ùˆ Ù‡Ù…Ø²Ù…Ø§Ù† Ø§ÛŒÙ† ØµÙØ­Ù‡ Ø±Ùˆ Ø¨Ø§Ø² Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒØŒ Ø¬Ø§Ø¯Ùˆ Ù…ÛŒâ€ŒØ´Ù‡ ğŸµ
    </div>
  </div>
</div>

<div class="modal" id="modal">
  <div class="modal-box">
    <div class="modal-head">
      <b>Ù¾ÛŒØ§Ù… Ù…Ø®ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø­Ø¯ÛŒØ« â¤ï¸</b>
      <button class="x" id="btnClose" aria-label="close">Ã—</button>
    </div>
    <div class="modal-body">
      <div class="love" id="loveText"></div>
      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
        <button class="secondary" id="btnCopy">Ú©Ù¾ÛŒ Ù…ØªÙ† âœ¨</button>
        <button id="btnMoreHearts">ÛŒÚ©ÛŒ Ø¯ÛŒÚ¯Ù‡ â¤ï¸</button>
      </div>
      <div style="margin-top:10px;color:rgba(255,255,255,.65);font-size:12px;line-height:1.8">
        Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒ Ø¬ÙˆØ§Ø¨ Ø¨Ø¯Ù‡: Â«Ø¢Ø±Ù‡â€¦ ÙˆÙ„Ù†ØªØ§ÛŒÙ† Ù…Ù† Ø¨Ø§Ø´Â» ğŸ˜Œ
      </div>
    </div>
  </div>
</div>

<!-- Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡: Ø¨Ø§ÛŒØ¯ ÙØ§ÛŒÙ„ bgm.mp3 Ú©Ù†Ø§Ø± Ù‡Ù…ÛŒÙ† index.html Ø¯Ø§Ø®Ù„ Ø±ÛŒÙ¾Ùˆ Ø¢Ù¾Ù„ÙˆØ¯ Ø¨Ø´Ù‡ -->
<audio id="bgm" preload="auto" loop>
  <source src="bgm.mp3" type="audio/mpeg">
</audio>

<script>
  const valentineDate = new Date(2026, 1, 14, 0, 0, 0); // 14 Feb 2026
  const $ = (id)=>document.getElementById(id);

  const bgm = $("bgm");

  const lines = [
    "ÛŒÙ‡ Ø³ÙˆØ±Ù¾Ø±Ø§ÛŒØ² Ú©ÙˆÚ†ÛŒÚ©â€¦ ÙˆÙ„ÛŒ Ø§Ø² ØªÙ‡ Ø¯Ù„ â¤ï¸",
    "Ø­Ø¯ÛŒØ«Ù Ø¹Ø²ÛŒØ²Ù…â€¦",
    "Ø§Ø² Ù‡Ù…ÙˆÙ† Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ú©Ù†Ø§Ø± ØªÙˆ Ø¢Ø±ÙˆÙ… Ø´Ø¯Ù…ØŒ ÙÙ‡Ù…ÛŒØ¯Ù… ÛŒÙ‡ Ú†ÛŒØ²ÛŒ ØªÙˆ Ù…Ù† Ø¹ÙˆØ¶ Ø´Ø¯Ù‡.",
    "Ùˆ ÛŒÙ‡ Ø®Ø§Ø·Ø±Ù‡ Ù‡Ø³Øª Ú©Ù‡ Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ø§ Ù„Ø¨Ø®Ù†Ø¯ ÛŒØ§Ø¯Ù… Ù…ÛŒØ§Ø¯:",
    "ÙˆÙ‚ØªÛŒ Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø± Ø¯Ø³ØªØ§Ù… Ø±Ùˆ Ø±ÙˆÛŒ ØµÙˆØ±Øª Ú©ÙˆÚ†ÙˆÙ„ÙˆØª Ú¯Ø°Ø§Ø´ØªÙ… Ùˆ Ù„Ø¨â€ŒÙ‡Ø§ØªÙˆ Ø¨ÙˆØ³ÛŒØ¯Ù…â€¦",
    "Ù‡Ù…ÙˆÙ†â€ŒØ¬Ø§ Ø¯Ù†ÛŒØ§ Ø¨Ø±Ø§ÛŒ Ù…Ù† ÛŒÙ‡ Ø±Ù†Ú¯ Ø¯ÛŒÚ¯Ù‡ Ú¯Ø±ÙØª.",
    "ÙˆÙ„Ù†ØªØ§ÛŒÙ† Ø§Ù…Ø³Ø§Ù„ ÙÙ‚Ø· Ù…ÛŒâ€ŒØ®ÙˆØ§Ù… Ø¨Ø¯ÙˆÙ†ÛŒ:",
    "ØªÙˆ Ø¯Ù„ÛŒÙ„Ù Ù‚Ø´Ù†Ú¯Ù Ø¯ÙˆØ³Øª Ø¯Ø§Ø´ØªÙ†Ù Ù…Ù†ÛŒâ€¦",
    "â€” Ù…Ù‡Ø¯ÛŒ â¤ï¸"
  ];

  const secret =
`Ø­Ø¯ÛŒØ«Ù Ù‚Ø´Ù†Ú¯Ù…ØŒ
ØªÙˆ Ø¨Ø±Ø§ÛŒ Ù…Ù† ÙÙ‚Ø· â€œØ¯ÙˆØ³Øª Ø¯Ø§Ø´ØªÙ†â€ Ù†ÛŒØ³ØªÛŒâ€¦
ØªÙˆ Ø¢Ø±Ø§Ù…Ø´Ù Ù‚Ù„Ø¨Ù…ÛŒØŒ Ù„Ø¨Ø®Ù†Ø¯Ù Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø³Ø®ØªÛŒØŒ Ùˆ Ù‚Ø´Ù†Ú¯â€ŒØªØ±ÛŒÙ† Ø§ØªÙØ§Ù‚Ù Ø²Ù†Ø¯Ú¯ÛŒ Ù…Ù†.

Ù…ÛŒâ€ŒØ®ÙˆØ§Ù… Ù‡Ø± Ø³Ø§Ù„ Ú©Ù†Ø§Ø± ØªÙˆØŒ
Ø§ÛŒÙ† Ø±ÙˆØ² Ø±Ùˆ ØµØ¯ Ø¨Ø§Ø± Ø¹Ø§Ø´Ù‚â€ŒØªØ± Ø¬Ø´Ù† Ø¨Ú¯ÛŒØ±Ù….

ÙˆÙ„Ù†ØªØ§ÛŒÙ† Ù…Ø¨Ø§Ø±Ú© â¤ï¸
Ø¨Ø§ Ø¹Ø´Ù‚Ù Ø¨ÛŒâ€ŒØ¢Ø®Ø±ØŒ
Ù…Ù‡Ø¯ÛŒ`;

  function formatFaDate(d){
    try { return new Intl.DateTimeFormat('fa-IR', { dateStyle:'full' }).format(d); }
    catch { return d.toLocaleDateString(); }
  }

  function typewriter(arr, el){
    el.textContent = "";
    let i=0, j=0;
    const tick = ()=>{
      if(i>=arr.length) return;
      const line = arr[i];
      el.textContent += line[j] ?? "";
      j++;
      if(j>line.length){
        el.textContent += "\n";
        i++; j=0;
        setTimeout(tick, 460);
      }else{
        setTimeout(tick, 22);
      }
    };
    tick();
  }

  // Ù‚Ù„Ø¨â€ŒÙ‡Ø§ Ø¯Ø± Ø¯Ùˆ Ø¬Ù‡Øª + Ø¢ÛŒÚ©Ù†â€ŒÙ‡Ø§ÛŒ Ù…ØªÙØ§ÙˆØª
  function spawnHearts(amount=18, direction="up"){
    const upSymbols = ["â¤ï¸","ğŸ’–","ğŸ’˜","ğŸ’","ğŸ’•","ğŸ’—"];
    const downSymbols = ["ğŸ©·","ğŸ¤","ğŸ’œ","ğŸ’™","ğŸ’š","ğŸ’›","ğŸ–¤","ğŸ’","âœ¨"];
    const symbols = direction === "down" ? downSymbols : upSymbols;

    for(let i=0;i<amount;i++){
      const h=document.createElement("div");
      h.className="heart " + (direction === "down" ? "down" : "up");
      h.textContent=symbols[Math.floor(Math.random()*symbols.length)];
      h.style.left=(Math.random()*100)+"vw";
      h.style.setProperty("--drift", (Math.random()*90-45).toFixed(0)+"px");

      const dur=(5.5+Math.random()*5).toFixed(2);
      h.style.animationDuration=dur+"s";
      h.style.fontSize=(16+Math.random()*20).toFixed(0)+"px";

      document.body.appendChild(h);
      setTimeout(()=>h.remove(), (parseFloat(dur)*1000)+300);
    }
  }

  function updateCountdown(){
    const now=new Date();
    const diff=valentineDate-now;
    if(diff<=0){
      $("countdown").textContent="Ø§Ù…Ø±ÙˆØ² ğŸ’˜";
      $("status").textContent="ÙˆÙ„Ù†ØªØ§ÛŒÙ† Ù…Ø¨Ø§Ø±Ú© ğŸ˜";
      return;
    }
    const s=Math.floor(diff/1000);
    const d=Math.floor(s/86400);
    const h=Math.floor((s%86400)/3600);
    const m=Math.floor((s%3600)/60);
    $("countdown").textContent=`${d} Ø±ÙˆØ² Ùˆ ${h} Ø³Ø§Ø¹Øª Ùˆ ${m} Ø¯Ù‚ÛŒÙ‚Ù‡`;
  }

  $("today").textContent = formatFaDate(new Date());
  $("loveText").textContent = secret;

  typewriter(lines, $("typeArea"));
  updateCountdown();
  setInterval(updateCountdown, 1000*10);

  // Ø¨Ø§Ø²Ø´ Ú©Ù†: Ù…ÙˆØ¯Ø§Ù„ + Ù‚Ù„Ø¨ Ø§Ø² Ø¯Ùˆ Ø¬Ù‡Øª + Ø´Ø±ÙˆØ¹ Ù…ÙˆØ²ÛŒÚ© (Ø¨Ù‡ Ø®Ø§Ø·Ø± Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù…Ø¬Ø§Ø²Ù‡)
  $("btnReveal").addEventListener("click", async ()=>{
    $("modal").classList.add("show");
    spawnHearts(18, "up");
    spawnHearts(18, "down");

    try{
      if (bgm) {
        bgm.currentTime = 0;
        await bgm.play();
      }
    }catch(e){
      // Ø¨Ø¹Ø¶ÛŒ Ú¯ÙˆØ´ÛŒâ€ŒÙ‡Ø§ Ø³Ø®Øªâ€ŒÚ¯ÛŒØ±Ù†Ø› Ø¨Ø§ ØªØ¹Ø§Ù…Ù„ Ø¨Ø¹Ø¯ÛŒ Ù‡Ù… Ù¾Ø®Ø´ Ù…ÛŒâ€ŒØ´Ù‡
    }
  });

  $("btnClose").addEventListener("click", ()=> $("modal").classList.remove("show"));
  $("modal").addEventListener("click", (e)=>{ if(e.target===$("modal")) $("modal").classList.remove("show"); });

  // Ù‚Ù„Ø¨ Ø¨Ø§Ø±ÙˆÙ†: Ù‡Ù… Ø§Ø² Ù¾Ø§ÛŒÛŒÙ† Ø¨Ù‡ Ø¨Ø§Ù„Ø§ Ù‡Ù… Ø§Ø² Ø¨Ø§Ù„Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†
  $("btnHearts").addEventListener("click", ()=>{
    spawnHearts(18, "up");
    spawnHearts(18, "down");
  });

  $("btnMoreHearts").addEventListener("click", ()=>{
    spawnHearts(24, "up");
    spawnHearts(24, "down");
  });

  $("btnCopy").addEventListener("click", async ()=>{
    try{
      await navigator.clipboard.writeText($("loveText").textContent);
      $("btnCopy").textContent="Ú©Ù¾ÛŒ Ø´Ø¯ âœ…";
      setTimeout(()=> $("btnCopy").textContent="Ú©Ù¾ÛŒ Ù…ØªÙ† âœ¨", 1600);
    }catch{
      $("btnCopy").textContent="Ú©Ù¾ÛŒ Ù†Ø´Ø¯ ğŸ˜…";
      setTimeout(()=> $("btnCopy").textContent="Ú©Ù¾ÛŒ Ù…ØªÙ† âœ¨", 1600);
    }
  });

  // Ù…ÙˆØ¬ Ø§ÙˆÙ„
  setTimeout(()=>{
    spawnHearts(10, "up");
    spawnHearts(10, "down");
  }, 900);
</script>
</body>
</html>
